{% block form %}
    {{ form_start(form) }}
    {% for child in form.children|filter(child => not child.rendered) %}
        {{ form_widget(child) }}
    {% endfor %}
    {{ form_end(form) }}
{% endblock form %}

{% block form_start %}
    {% do form.setMethodRendered() %}
{% endblock %}

{% block form_widget %}
	<select {{ block('widget_attributes') }}{% if multiple %} multiple="multiple"{% endif %}>
        {% for choice in choices %}
			<option value="{{ choice.value }}">
		        {{ choice.label }}
			</option>
        {% endfor %}
	</select>
	
{% endblock %}

{% block widget_attributes %}
    {{ 'class="d-none"' }}
    {% if disabled %} disabled="disabled"{% endif %}
    {% if required %} required="required"{% endif %}
    {{ block('attributes') }}
{% endblock %}

{% block attributes %}
    {% for attrname, attrvalue in attr|filter((v, k) => k != 'selected_values') %}
        {{ " " }}
        {% if attrvalue is same as(true) %}
            {{ attrname }}="{{ attrname }}"
        {% elseif attrvalue is not same as(false) %}
            {{ attrname }}="{{ attrvalue }}"
        {% endif %}
    {% endfor %}
{% endblock attributes %}

{% block form_end %}
{% endblock %}