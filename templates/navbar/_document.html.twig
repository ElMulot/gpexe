{% import "macros/_navbar.html.twig" as navbar %}

<ul class="navbar-nav me-auto">
	{{ navbar.item('Back', path('project_view', {'project': project.id})) }}

	{% if is_granted('ROLE_ADMIN') or (is_granted('ROLE_EDIT_DOCUMENTS') and app.user in project.users) %}
		{{ navbar.dropdown('Documents', [
			{
				'name': 'New',
				'href': (current_serie is not null)?path('document_new', {'serie': current_serie.id}),
				'data-turbo-frame': 'std_modal',
			},
			{
				'name': 'Edit',
				'href': path('document_edit'),
				'data-turbo-frame': 'std_modal',
			},
			{
				'name': 'Move',
				'href': path('document_move'),
				'data-turbo-frame': 'std_modal',
			},
			{
				'name': 'Delete',
				'href': path('document_delete'),
				'data-turbo-frame': 'std_modal',
			},
		]) }}
		{{ navbar.dropdown('Versions', [
			{
				'name': 'New',
				'href': path('version_new'),
				'data-turbo-frame': 'std_modal',
			},
			{
				'name': 'Edit',
				'href': path('version_edit'),
				'data-turbo-frame': 'std_modal',
			},
			{
				'name': 'Delete',
				'href': path('version_delete'),
				'data-turbo-frame': 'std_modal',
			},
		]) }}
	{% endif %}
</ul>

{{ navbar.title("Documents")}}

<ul class="navbar-nav ms-auto">
	{{ navbar.itemLogout() }}
</ul>
